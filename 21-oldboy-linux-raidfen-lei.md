第1章  RAID

把多个物理磁盘通过不同的技术方式组成磁盘阵列，这个不同的技术方式为RAID级别

生产环境常用的raid级别：RAID 0 , RAID 1 ,RAID 5 , RAID 10





RAID级别	关键优点	关键缺点	应用场景

RAID 0	读写熟读快	没有任何冗余	mysql slave，集群的节点RS

RAID 1 	100%冗余，镜像	读写性能一般，成本高	单独的，数据重要，且不能宕机的业务，

监控、系统盘

RAID 5	具备一定性能和冗余，可以坏一块，读性能不错	写入性能不高	一般的业务都可以用

RAID 10	读写速度快，100%冗余	成本高	性能和冗余要求都很好的业务。数据库主库和存储的主节点



硬RAID

在实际的生产场景工作中，基于硬件的RAID解决方案应该是我们的首选

互联网公司常用的生产DELL服务器、默认支持RAID 0,1 

如果 RAID 5 ，10  需要买RAID卡



RAID 最直接的好处：

1、 提升数据安全性

2、提升数据读写性能

3、提供更大的单一逻辑磁盘数据容量存储



RAID 0  一块盘到多块盘，容量是所有盘之和

RAID 1  必须2块盘，容量损失一块盘

RAID 5  最少三块盘，只损失一块盘容量

RAID 10  最少4块盘，必须偶数磁盘，损失一半的容量





1.1 RAID0

条带化（或 条带模式）具有最高的存储性能

原理：把连续的数据分散到多个磁盘上存取

生产应用场景：

1、负载均衡集群下面的多个相同RS节点服务器

2、分布式文件存储下面的主节点或chunk server

3、mysql主从复制的多个slave服务器

4、对性能要求很高，对冗余要求很低的相关业务



关注点	描述

容量	是5块加在一起的容量，在所有 RAID级别中具有最高的存储性能，原理是把连续的数据分散到多个磁盘上存取

性能	理论上磁盘读写速度比单盘提升5倍，但由于总线带宽等多种因素的影响，实际的提升苏率肯定会低于理论值，但是，大量数据并行传输与串行传输比较，提速效果显著毋庸置疑，磁盘越多倍数越小。

冗余	无任何冗余，坏1块盘，整个RAID就都不能用了。

场合	适合于大规模并发读写，但对数据安全性要求不高的情况

如MySQL Slave（数据库从库），集群的节点RS（服务员）。

特点	速度快，无冗余，容量无损失。



1.2 RAID1

镜像：把写入一个磁盘的数据全部自动复制到另外一个磁盘上，实现存储双份数据

只能两块盘，整个raid大小为最小的那块磁盘容量

容量	损失50%的容量

性能	mirror不能提高存储性能

冗余	100%

场景	适用于存放重要数据，如服务器系统分区和对性能要求不高的数据库存储等领域



关注点	描述

容量	损失50%的数据容量。例如2块1T的盘，做完RAID 1后容量为1T

性能	Mirror不能提高存储性能。理论上写性能和单盘差不大

冗余	在所有RAID 1 级别中，RAID 1提供最高的数据安全保障，但冗余度100%

场合	适合于存放重要数据，如服务器系统分区和对性能要求不高的数据库存储等领域

特点	100%冗余，容有量损失一半



1.3 RAID5

至少需要三块磁盘，可以提供热备盘实现故障恢复只允许坏一块盘，系统会根据存储的奇偶校验

重建数据

容量： 损失一块盘的容量

 

容量	损失一块盘的容量

性能	RAID5具有和RAID0相近的数据读取速度，知识多了一个奇偶校验信息，写入数据的速度比单个磁盘稍慢

冗余	RAID5数据安全保障程度比RAID1低而磁盘空间利用率要比RAID1高

场合	RAID5可以理解为RAID0和RAID1的折中方案。适合对性能和冗余都有一定要求，又都不是十分高的情况。mysql的主从库都可以，存储也可以。普通的服务器为了减少维护成本，又保持一定冗余和读写性能都可以做RAID5





关注点	描述

容量	损失一块盘的数据容量 10\*600G  9\*600G  10\*1TB                                       

性能	RAID 5具有和RAID 0相近的数据读取速度，只是多了个奇偶校验信息，写入数据速度比单个磁盘写入操作稍慢。

冗余	可损失一块盘，RAID 5数据安全保障程度比RAID 1低而磁盘空间利用率要比RAID 1高

场合	RAID 5可以理解为是RAID 0和RAID 1的折衷方案。适合于对性能和冗余都有一定要求，又都不是十分高的情况。

MySQL的主丛库都可以，存储也可以。普通的服务器为了减少维护成本，又保持一定冗余和读性能都可以做RAID 5

特点	容量损失一块盘，写数据通过奇偶校验，RAID 0和RAID 1的折衷方案。



1.4  RAID10

与RAID 1 一样的数据安全保障，与RAID 0近似的存储性能

最少4块盘，必须偶数硬盘，不管硬盘多少，都损失一半的容量



关注点	描述

容量	损失50%的数据容量。

性能	具有RAID0一样的速度

冗余	冗余性高

特点	读写速度很快，冗余，数据存储成本高



最低磁盘数量	4

优点/特点	缺点

RAID10以RAID0为执行列阵，以RAID1为数据保护阵列。	存储容量利用率低，单位成本昂贵

RAID10拥有与RAID1一样的容错能力	磁盘并行工作使相应磁轨持续性能被减弱

RAID10用于容错处理的系统开销与单独镜像操作基本一样	由于成本的原因造成非常有限的扩展

由于使用RAID0做为执行等级，因此聚会有较高的I/O带宽	

对于那些想在RAID1基础上大幅度提供性能的用户，它是一个完美的解决方案	





1.5  各Raid级别总结

RAID级别	最少磁盘要求	关键优点	关键缺点	实际应用场景

RAID 0	1块	读写速度快	没有任何冗余	MySQL  Slave，集群的节点RS

RAID 1 	2块（只能）	100%冗余，镜像	读写性能一般，成本高	单独的，数据重要，且不能延机的业务，监控，系统盘，

RAID 5	3块	具备一定性能和冗余，可以坏一块盘，读性能不错	写入性能不高	一般业务都可以使用

RAID 10	4块	读写速度很快，100%冗余	成本高	性能和冗余要求很好的业务。

数据库主库（master）和储存的主节点

