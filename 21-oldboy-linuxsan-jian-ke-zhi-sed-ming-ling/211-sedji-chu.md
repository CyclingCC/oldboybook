## 1.1  sed简介

sed是stream editor（字符流编辑器）的缩写，简称流编辑器。什么是流呢？大家可以想象一下流水线，sed就像一个车间一样，文件中的每行字符都是原料，运到sed车间，然后经过一系列的加工处理，最后从流水线下来就变成货物了

![](/assets/20-1.png)

## 1.2  sed功能

sed命令是操作、过滤和转换文本内容的强大工具。常用功能有增删改查（增加、删除、修改、查询），其中查询的功能中最常用的两大功能是过滤（过滤指定字符串），取行（取出指定行）

我们现在准备学习的sed版本是GNU开源版本的，我的实验环境是Centos6.7系统，内核版本是  2.6.32-573.el6.x86\_64

\[root@oldboy ~\]\# cat /etc/redhat-release

CentOS release 6.7 \(Final\)

\[root@oldboy ~\]\# uname -r

2.6.32-573.el6.x86\_64

\[root@oldboy ~\]\# sed --version

GNU sed version 4.2.1

## 1.3  语法格式

sed  \[option\]  '\[sed-commands\]'  \[input-file\]

sed  \[选项\]   '\[sed命令\]'       \[输入文件\]

## 1.4  选项

![](/assets/tab20-4.png)

说明：

1、注意sed软件以及后面选项、sed命令和输入文件，每个元素之间都至少有一个空格

2、为了避免混淆，sed 称为 sed软件 ，sed-commands（sed命令）是sed软件内置的一些命令选项，为了和前面的options（选项）区分，故称为sed命令

3、sed-commands既可以是单个sed命令，也可以是多个sed命令组合

4、input-file（输入文件）是可选的，sed还能够从标准输入如管道获取输入

## 1.5  命令执行流程

sed软件从文件或管道中读取一行，处理一行，输出一行；再读取一行，再处理一行，再输出一行 ......

小知识：一次一行的设计使得sed软件性能很高，sed在读取非常庞大的文件时不会出现卡顿的现象。大家都用过vi命令，用vi命令打开几十M或更大的文件，会发现卡顿现象，这是因为vi命令打开文件是一次性将文件加载到内存，然后在打开，因此卡顿的时间长短就取决于从磁盘到内存的读取速度。而且如果文件过大的话还会造成内存溢出现象。sed软件就很好的避免了这种情况，打开速度非常快，执行速度也很快

![](/assets/20-2.png)

## 1.6  sed命令

![](/assets/tab20-5.png)

## 1.7  sed特殊符号

![](/assets/tab20-6.png)

## 1.8  引号的区别

" " 双引号   把双引号内的内容输出出来；如果内容中有命令、变量等，会先把命令、变量解析出结果，然后再输出最终的内容。双引号内命令或变量的写法  \`命令或变量\`  或  $\(命令或变量\)，对于这些字符使用  可以去除它们的特殊含义

' ' 单引号    单引号内的内容原样输出

不加引号    不会将含有空格的字符串视为一个整体输出，如果内容中有命令、变量等，会先把命令、变量解析出结果，然后再输出最终内容，如果字符串含有空格等特殊字符，则需加双引号

\` \` 反引号  在反引号中的shell命令会被执行，执行的输出代替此处

##### 引号从左到右找到它的另一半

##### 引号可以一层一层包围，但是不能交错出现



