  
![](https://www.luffycity.com/linux-book/assets/13-4.png)

#### 硬链接

硬链接： 具有相同inode号的文件（多个文件名对应一个inode号）互为硬链接

硬链接\(hard link, 也称链接\)就是一个文件的多个文件名。再说白点，所谓链接无非是把文件名和计算机文件系统使用的节点号链接起来。因此我们可以用多个文件名与同一个文件进行链接，这些文件名可以在同一目录或不同目录。

目录不能做硬链接

删除一个硬链接，仅仅删除了文件的链接指向

硬链接文件是文件的另一个入口

可以通过给文件创建硬链接文件，来防止重要文件被误删

删除文件的本质：文件的所有硬链接被删除，并且inode节点被其他文件占用

在父目录里创建一个子目录，父目录的链接数加1

![](https://www.luffycity.com/linux-book/assets/13-5.png)

硬链接小结

1、具有相同inode号的多个文件互为硬链接文件

2、删除硬链接文件或者删除源文件任意之一，文件实体不会删除

3、只有删除了源文件及所有的硬链接文件，文件实体才会被删除

4、当所有的硬链接及源文件被删除后，再存放新的数据会占用这个文件的空间，或者磁盘fsck检查的时候，删除的数据会被系统回收

5、硬链接文件就是一个文件的另一个入口

6、可以通过给文件设置硬链接，来防止重要文件被删除

7、通过执行命令 ln 源文件 硬链接文件 即可创建硬链接

8、硬链接是普通文件，可以使用rm命令删除

9、对于静态文件（没有进程正在调用的文件）来讲，硬链接数为0，文件就被删除

目录硬链接说明

\[root@oldboy test\]\# pwd

/test

\[root@oldboy test\]\# ls -ldi oldboy oldboy/. oldboy/oldboydir/..

398269 drwxr-xr-x 3 root root 4096 Aug 26 20:20 oldboy

398269 drwxr-xr-x 3 root root 4096 Aug 26 20:20 oldboy/.

398269 drwxr-xr-x 3 root root 4096 Aug 26 20:20 oldboy/oldboydir/..

#### 软链接

软链接又叫符号链接，这个文件包含了另一个文件的路径名。可以是任意文件或目录，可以链接不同文件系统的文件 , linux软链接文件类似windows的快捷方式

软链接指向源文件名

软链接文件创建时，软链接的文件不能存在，如果存在，不能正确创建

软链接占用一个inode，不占用block

ln -s 源 目标

\[root@xdz application\]\# ln -s /application/apache2.2.17 /application/apache

\[root@xdz application\]\# ll

total 4

lrwxrwxrwx 1 root root 25 Mar 26 11:03 apache -&gt; /application/apache2.2.17

drwxr-xr-x 2 root root 4096 Mar 23 23:41 apache2.2.17

查看软链接文件内容

\[root@xdz application\]\# readlink apache

/application/apache2.2.17

软链接小结

1、软链接类似windows的快捷方式

2、软链接类似一个文本文件，里面是源文件的路径。指向源文件实体

3、删除源文件、软链接文件依然存在、但是无法访问指向的源文件路径内容

4、失效的时候一般是白字红底闪烁提示

5、执行命令 “ln -s 源文件 软链接文件”，即可完成穿件软链接（目标不能存在）

6、软链接和源文件是不同类型的文件、也是不同的文件、inode号也不相同

7、删除软链接文件可以用rm命令

#### 软硬链接的区别

1、软硬链接的概念

2、如何创建软硬链接

3、对文件软硬链接的区别

4、对目录软硬链接的区别

在linux系统中，链接分为两种：一个是硬链接，另一个是软链接（或符号链接）

1、默认不带参数情况下，ln命令创建的是硬链接，带-s参数的ln命令创建的是软链接

2、ln命令不能对目录创建硬链接，但可以创建软链接，对目录的软链接会经常用到

3、源文件和硬链接具有相同的inode号，是同一个文件

4、源文件和软链接inode号不同，是不同的文件，软链接相当于源文件的快捷方式，指向源文件

5、删除软链接文件，对源文件及硬链接文件无影响

6、删除文件的硬链接，对源文件及软链接文件无影响

7、删除源文件，对硬链接无影响，会导致软链接失效（红底白字闪）

8、同时删除源文件及硬链接，整个文件才会被真正的删除

9、对于目录，不可以人为创建，但可以创建软链接

10、对于目录的软链接是生产场景运维中常用的技巧

11、目录的硬链接不能跨越文件系统（从硬链接原理理解）

12、每个目录下面都有一个硬链接 “.”号，和对应上级目录的硬链接 “..”

13、在父目录里创建一个子目录，父目录的链接数加1（每个子目录里面都有..来指向父目录）

14、软链接可以跨文件系统，硬链接不可以跨文件系统

